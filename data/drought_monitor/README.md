# Drought Monitor Data Readme
## Description
This folder contains the inputs and instructions to calculate the drought indicator for the analysis stage. It takes the weekly drought shapefiles from the [US drought monitor](http://droughtmonitor.unl.edu/MapsAndData/GISData.aspx) from 2000 to present, decomposes the shapefiles by counties, and calculates the drought index for the counties.

## Source
The data is from [US drought monitor](http://droughtmonitor.unl.edu/), which provides weekly polygons for US drought severity that is classified into [five levels (D0 to D4)](http://droughtmonitor.unl.edu/AboutUs/ClassificationScheme.aspx).

## To download the data
1. Go to [US drought monitor's data download page](http://droughtmonitor.unl.edu/MapsAndData/GISData.aspx).
2. Go through each year from 2000 to present using the left pannel.
3. In each year, use the top-left "Download all Drought Monitor shapefiles for year XXXX" to download the weekly Drought Monitor shapefiles for the year in zip files.
4. Unzip the zipfiles, put the shapefiles from all the years directly in directory ("../data/drought_monitor/original_drought_monitor_data"). **Do not use subfolders for each year**.

## To get the drought indicator used in the analysis stage
1. Run "../code/clean/Decompose_drought_monitor_to_county.py". This script calculates the area under each DM level in each county, each week, and saves the results as a csv in folder "../data/drought_monitor/processed_drought_monitor_data/csv/". **Do not run this code unless necessary, as it takes a long time to process**.
2. Run "../code/clean/summarize_decomposed_weekly_DM.ipynb" to summarize the weekly csv from the step above. For each DM level, it generates a csv that shows the area in each county that is under the DM level in each week. **Don not run this code as the output from step 1 is not pushed to the repository due to file size**.
3. Run "../code/calculate_drought_indicator_from_domposed_DM.ipynb" to use the output from the step above and calculat the drought indicator.

## Outputs
The outputs that used in the analysis stage are:
- drought_indicator_1year_matrics_reformat.csv
- drought_indicator_3year_matrics_reformat.csv
- drought_indicator_5year_matrics_reformat.csv

Which are weeks during the past 1/3/5 years each county gets impacted under D2, D3, and D4, weighted by the area of the impact.


