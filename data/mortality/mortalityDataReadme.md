# Mortality Data Information

## Raw Data

### Source

Under-5, over-65, and all-ages mortality was downloaded from the [CDC WONDER](http://wonder.cdc.gov) [compressed mortality database for 1999-2014](http://wonder.cdc.gov/cmf-icd10.html) for both genders combined on Mar 17, 2016.

### Acquisition Method
The CDC WONDER API [only works for national data requests](http://wonder.cdc.gov/wonder/help/WONDER-API.html#More), so could not be used for data acquisition for this project. Instead, we used the [web application provided by the CDC](http://wonder.cdc.gov/controller/datarequest/D124). Datasets were downloaded by age-group, sex, year. For clarity, the following settings were chosen on the web app (options for which we used default values are not included):
- Organize table layout
    - Group Results By: County
    - Meaures: Default values + "Age Adjusted Rate"
- Select location:
    - States: All
- Select years and demographics:
    - Age Group:
        - under-5 downloads: "<1 year" and "1-4 years"
        - over-65 downloads: "65-74 years", "75-84 years", and "85+ years"
        - all ages: "All ages"
    - Year: each year had to be downloaded individually, so with each download we would select one year from the available 1999-2014 range
    - Gender: With the first set of downloads, only "All Genders" was chosen
- Other options:
    - Export Results: checked
    - Show Totals: checked
    - Show Zero Values: checked
    - Show Suppresed Values: checked
    
In total, the Mar 17, 2016 download consisted of 48 files (16 years X 3 age groupings).

### File Format
Each file downloaded contained:
- County name
- County code
- Deaths
- Population
- Crude rate
- Age adjusted rate

The age adjusted rates were adjusted only for the age groups included in that download (e.g. "65-74 years", "75-84 years", and "85+ years" for the "over-65" download). Information on populations and methods used for age-weighting are available [here](http://wonder.cdc.gov/wonder/help/cmf.html#2000%20Standard%20Population) and [here](http://wonder.cdc.gov/wonder/help/cmf.html#Age-Adjusted%20Rates).

### File-naming convention
Raw data files are named according to the following convention:
```
mort_[age grouping]_[year]_[gender(m, f, or b)].txt
```

## Cleaning

### Notes
There are three types of special data points in the raw data:
- __Unreliable__: rates are marked as unreliable when death count is less than 20
- __Suppressed__: all data is suppressed when death counts are less than 10 for confidentiality
- __Missing__: data is missing from certain counties for a variety of reasons, usually having to do with changes in county boundaries/addition or subtraction of counties

We are currently (as of 3/18/16) marking all of these data points as NA during cleaning for the purposes of our analysis.

### Output
The output of the cleaning is a csv called [mortality_cleaned.csv](mortality_cleaned.csv). It contains the following columns:
- GISJOIN: A county identifier based on [county_ID_lookup_table](../county_ID_lookup_table.csv). It consists of 'G' + the 2 digit state FIPS ID + '0' + the 3 digit county FIPS ID + '0'.
- year: year of observation
- deaths, crude death rates, age-adjusted death rates:
    - there are three metrics, three age groups (u5, 65+, all), and currently 1 gender group (both sexes combined) resulting in 9 columns
    - the column label format is `[metric]_[age_grp]_[gender]`

Currently (3/18/16), all Missing, Suppressed, and Unreliable data points from the raw data are coded as NA (i.e. they are left blank). This can be adjusted in the future if there is a good way to incorporate some of these values.

Because the counties used for the Drought Monitor Index aggregation are based on 2010 county lines, there may be slight mismatches in the counties in the cleaned mortality dataset and the counties in the derived drought index dataset. I propose we drop any mismatched counties, as the mismatches should be small in number and unassociated with drought or mortality.