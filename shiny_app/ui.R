library(shiny)

shinyUI(fluidPage(
  
  # Application title
  titlePanel("US Drought Vulnerability"),
  

  sidebarLayout(
    sidebarPanel(
      # conditionalPanel(
      #   condition="input.tb==0",
      #   selectInput("num", "Choose your Numerator:", choices = c('mortality'='1','income'='2')),
      #   selectInput("denom","Choose your Denominator:",choices=c('drought index'="1")),
      #   sliderInput("numD",
      #               "Lag:", 
      #               sep = "",
      #               value = 0,
      #               min = 0,
      #               step=1,
      #               max = 5),
      #   sliderInput("denomD",
      #               "Year:", 
      #               sep = "",
      #               value = 0,
      #               min = 0,
      #               step=1,
      #               max = 5)
      #   
      # ),
      # 
      conditionalPanel(
        condition = "input.tb==1 | input.tb==2" ,
      radioButtons("indic", "Indicator:",
                   c("Mortality Rate Adjusted >65" = "mortalityOld",#"mortalityOld"
                     #"Mortality Rate Adjusted <5"= "mortalityYoung",
                     "Mortality Rate Adjusted All"="mortalityAll",
                     "Unemployment Rate" = "unemployment",
                     "Drought 1 Year" = "drought1",
                     "Drought 3 Year"= "drought3",
                     "Drought 5 Year"="drought5")),
      
      
      br(),
      
      sliderInput("y",
                  "Year:", 
                  sep = "",
                  value = 2004,
                  min = 2004,
                  step=1,
                  max = 2014,
                  animate=animationOptions(interval=1500, loop=TRUE))
      ),
      br(),
      conditionalPanel(
        condition = "input.tb == 2",
        textInput("state", label = "Choose a state to explore (continental US only, case matters) Click on a county of interest.", value = "California"),
        selectInput("quant","Color Quantiles:",choices=c("overall"="1",'by state'="2"))
        
      ),
      br(),
      conditionalPanel(
        condition = "input.tb == 2"
        #actionButton("go", "Go")
      )
    ),
    
    
    mainPanel(
      tabsetPanel(id="tb",type = "tabs", 

                  tabPanel("First Stage Variables", plotOutput("fullMap"),value=1), 
                  tabPanel("First Stage Variables- By State", plotOutput("byState",click = "plot_click"),plotOutput("click_info"),value=2)#, 
                  #tabPanel("Coefficients from First Stage", plotOutput("coeff1",click = "plot_click"),plotOutput("click_info"),value=2), 
                  #tabPanel("Coefficients from First Stage- By State", plotOutput("coeff1_state",click = "plot_click"),plotOutput("click_info"),value=2), 
                 # tabPanel("Second Stage Variables", tableOutput("table"),value=3),
                  #tabPanel("Second Stage Variables- By State", plotOutput("byState2",click = "plot_click"),plotOutput("click_info"),value=2),
                  #tabPanel("Second Stage Results", tableOutput("table2"),value=4)
                 
                  
      )
      
      
    )
  )
))