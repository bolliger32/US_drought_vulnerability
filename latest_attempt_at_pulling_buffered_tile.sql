
WITH this_rid AS (
	SELECT * from land_surf_data WHERE rid=13)

SELECT foo.x,foo.y,foo.val,foo.geom FROM (SELECT (ST_PixelAsCentroids(lsd.rast, 1)).* FROM land_surf_data lsd) foo, this_rid WHERE 
		ST_DWithin(foo.geom,ST_Envelope(this_rid.rast),1000)