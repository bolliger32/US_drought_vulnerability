# US Drought Vulnerability

## UC Berkeley DS421 / Statistics 259 Project
### Spring 2016

_**Research question:**_ What makes different communities more or less resilient to drought?

## Overview
This repository contains the files needed to reproduce our analysis of variation in vulnerability to drought across U.S. counties.  We conduct a two-stage analysis.  First, we find the correlation between drought level (as reported by the  [`United States Drought Monitor`](http://droughtmonitor.unl.edu/AboutUSDM/Background.aspx)) and change in various indicators of welfare, including unemployment, infant mortality, and homelessness.  This correlation coefficient can be interpreted as the county's "vulnerability" to drought.  Second, we investigate which demographic characteristics predict vulnerability by regressing the coefficient from the first stage on a set of demographic variables such as race, age distribution, income, and more.
Please follow the insturctions to explore on the repository.

## Directions
1. Clone the repo: `git clone https://github.com/bolliger32/US_drought_vulnerability.git'
2. Cd into ~/US_drought_vulnerability.
3. Install necessary software. You will need:

-  python v.3.5
-  Arcpy in python v.2.7
-  Stata
-  TeX
-  R, with the following packages installed:
	1. plyr
	2. dplyr
	3. micromapST
	4. ggplot2
	5. readr
	6. maptools
	7. downloader
	8. reshape2
	9. shiny
	10. parallel
4. Manually download the data that can't be automated
- EPA data: See data/epa/README
- ACS data: See data/acs/README

### Navigation
 - Data `make data` : Downloads the required data sets, cleans them, and merges them into the working data set. The total size of the file is 1.23 GB.

 - Clean `make clean` : remove compiled python files  

 - Download `make download` : download data

 - Compile data `make compile` : clean and merge data for stage 1 and stage 2 analyses

 - Permutation tests `make permutation_test` : run permutation tests

 - Analysis `make analysis`
 
 - Shiny `make shiny`

 - Report `make report` : Creates final_report.pdf under paper/ and cleans the paper/ directory

 - To conduct steps of analysis separately :
   - `make stage1` 
   - `make stage2`
   - `make shiny`
   - `make permutation_test` 
 
## Contributors

-  Daniel Blaustein-Rejito ([`danrejto1`](https://github.com/danrejto1))
-  Ian Bolliger ([`bolliger32`](https://github.com/bolliger32))
-  Hal Gordon ([`halgordon`](https://github.com/halgordon))
-  Andrew Hultgren ([`andyhultgren`](https://github.com/andyhultgren))
-  Yang Ju ([`yangju-90`](https://github.com/yangju-90))
-  Kate Pennington ([`katepennington`](https://github.com/katepennington))
-  Sara Stoudt ([`sastoudt`](https://github.com/sastoudt))
