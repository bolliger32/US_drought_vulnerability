# This makefile should be modified to do all of the data cleaning and compiling

DATA_DIR=../data
MORT_DATA_DIR=$(DATA_DIR)/mortality
MORT_DATA_CLEANED=$(MORT_DATA_DIR)/mortality_cleaned.csv
UMEMP_DATA_DIR=$(DATA_DIR)/unemployment
UNEMP_DATA_RAW=$(UMEMP_DATA_DIR)/raw/*.txt
UNEMP_DATA_CLEANED=$(UMEMP_DATA_DIR)/unemploymentClean.csv

all: $(MORT_DATA_CLEANED)

# Script to clean raw mortality data
$(MORT_DATA_CLEANED): clean_county_mortality_data.py $(MORT_DATA_DIR)/raw/*.txt
	python clean_county_mortality_data.py

# Script to download raw unemployment data
#$(UNEMP_DATA_RAW): download_unemployment.R
# 	Rscript -e "source('download_unemployment.R')"

# Script to clean raw unemployment data	
#$(UNEMP_DATA_CLEANED): clean_unemployment.R $(UNEMP_DATA_RAW)
#    Rscript -e "source('clean_unemployment.R')"    
        
clean:
	rm $(MORT_DATA_CLEANED)
