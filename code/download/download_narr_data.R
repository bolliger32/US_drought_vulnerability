#  DESCRIPTION: This code downloads the monthly NOAA weather station data for US climatological divisions, as well as NOAA's README file describing the data and methodology.  
#  Variables : precipitation, average temp, PDSI, PHDI, ZNDX, PMDI, Heating Degree Days, Cooling Degree Days.
#  For thorough discussion of these variables, see the noaa_official_README.txt. 
#  Created 3/28/2015 by Kate Pennington

library(rgdal)
library(spdep)
library(sp)
library(fields)
library(MBA)
library(RNetCDF)

setwd("/Users/katepennington/Dropbox/US_Drought_Vulnerability/US_Drought_Vulnerability/data/narr/narr_raw")
#  Note: Change the pathname before running code.

# DOWNLOAD THE RAW DATA


#  1. Download NARR readme
download.file("ftp://ftp.cdc.noaa.gov/Datasets/NARR/README", "narr_readme.txt")

#  2.  Download NARR precip data: Monthly Average of Daily Accumulation.
download.file("ftp://ftp.cdc.noaa.gov/Datasets/NARR/Monthlies/monolevel/apcp.mon.mean.nc", "narr_precip.nc")

# 3. Temperature
download.file("ftp://ftp.cdc.noaa.gov/Datasets/NARR/Monthlies/monolevel/air.sfc.mon.mean.nc", "narr_temp.nc")
