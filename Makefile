# This file begins a draft of the master makefile. Most of the text is dummy text to be filled in later. Below, I have listed dummy names for sub-makefiles we may want to create.  Please add/edit.

.PHONY: all download data test stage1 stage2 visualization shiny report 
all: clean

clean:
	find . -name "*.so" -o -name "*.pyc" -o -name "*.pyx.md5" | xargs rm -f

download:
	cd data && make download_all  # This assumes we'll keep the "download_all" makefile in the data folder.
	
data:
	cd data && make compile

test:
	cd code/analysis_stage1 && make permutationTests
	
stage1:
	cd data && make stage1

stage2:
	cd data && make stage2

visualization:
	cd data && make visualization

shiny:
	cd code/utils/scripts && python eda.py
	cd code/utils/scripts && python hist-outliers_script.py

analysis:
	make permutationTests
	make stage1 
	make stage2

report:
	cd paper && make all
	cd paper && make clean
